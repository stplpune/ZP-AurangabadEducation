<form [formGroup]="teacherRegForm">
    <div mat-dialog-title class="modal-header">
        <div class="d-flex justify-content-between align-items-center w-100">
            <h6 class="text-main mb-0 fw-bold">Teacher Registration</h6>
            <button mat-icon-button class="btn-modal-close" [mat-dialog-close]="true">
                <mat-icon class="material-symbols-rounded">close</mat-icon>
            </button>
        </div>
    </div>
    <mat-dialog-content class="modal-body scrollbar form-container">
        <div class="row gx-2 align-items-end">
            <div class="col-sm-12">
                <h6 class="section-head">Personal Details</h6>
            </div>
            <div class="col-sm-4">
                <label class="form-label">Teacher Name</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="teacherName">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">Teacher Name (Marathi)</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="m_TeacherName">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">Teacher ID</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="teacherId">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">Gender</label>
                <mat-form-field appearance="outline" class="w-100">
                    <mat-select formControlName="genderId">
                        <mat-option>
                            Male
                        </mat-option>
                        <mat-option>
                            Female
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">Mobile No.</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="mobileNo">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">Email ID</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="emailId">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">Birth Date</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input formControlName="birthDate" matInput [matDatepicker]="topicker" (click)="topicker.open()"
                        readonly (dateChange)="CalculateAge()">
                    <mat-datepicker-toggle matIconSuffix [for]="topicker"></mat-datepicker-toggle>
                    <mat-datepicker #topicker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-sm-4" *ngIf="teacherRegForm.value.birthDate && age > 0">
                <div class="col-sm-6">
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput value="{{age}} Years">
                </mat-form-field>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="file-upload border rounded-2 p-1 margin-control">
                    <button type="button" mat-flat-button class="btn" id="fileupload-button" data-toggle="tooltip"
                        data-placement="right" (click)="uploadImage.click()" [disabled]="uploadImageFlag">
                        Upload Photo
                    </button>
                    <input formControlName="uploadImage" type="file" accept=".jpg,.jpeg,.jfif,.png,.hvec" id="real-file"
                        hidden="hidden" #uploadImage (change)="imgUpload($event)" />
                    <div class="d-flex gap-2">
                        <button type="button" mat-flat-button class="bg-primary-subtle text-primary btn-icon btn-action"
                            matTooltip="{{'Lables.view' | translate}}" *ngIf="uploadImg" (click)="viewImg()">
                            <mat-icon class="material-symbols-rounded">
                                preview
                            </mat-icon>
                        </button>
                        <button type="button" mat-flat-button class="bg-danger-subtle text-danger btn-icon btn-action"
                            matTooltip="{{'Lables.delete' | translate}}" *ngIf="uploadImg" (click)="clearImg()">
                            <mat-icon class="material-symbols-rounded">
                                delete
                            </mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12 mb-4">
            <!-- <div class="d-flex align-items-center gap-2"> -->
            <div class="row gx-2 align-items-end">
                <div class="col-sm-12">
                    <h6 class="section-head">Address Details</h6>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.district' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="districtId" (selectionChange)="getVillageByTalukaId();">
                            <mat-option *ngFor="let district of districtArray"
                                [value]="district.id">{{webStorage.languageFlag =='mr-IN' ? district.m_District:
                                district.district}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.taluka' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="talukaId" (selectionChange)="getVillage();">
                            <mat-option *ngFor="let taluka of talukaArray" [value]="taluka.id">{{webStorage.languageFlag
                                =='mr-IN' ? taluka.m_Taluka: taluka.taluka}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.village' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="villageId">
                            <mat-option *ngFor="let village of villageArray"
                                [value]="village.id">{{webStorage.languageFlag
                                =='mr-IN' ? village.m_Village: village.village}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-6 ">
                    <label class="form-label">Current Address</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <textarea matInput rows="3" maxlength="100" formControlName="currentAddress"
                            (keypress)="validation.noFirstSpaceAllow($event)"
                            (input)="clearAddressCheckBox($event)"></textarea>
                    </mat-form-field>
                </div>
                <div class="col-sm-6 ">
                    <label class="form-label w-100">
                        <div class="d-flex justify-content-between w-100 align-items-center">
                            <span>Permanent Address</span>
                            <mat-checkbox class="example-margin" [disabled]="!f['currentAddress'].value"
                                (change)="setSameAddress($event)">Same as Current Address</mat-checkbox>
                        </div>
                    </label>
                    <mat-form-field appearance="outline" class="w-100">
                        <textarea matInput rows="3" formControlName="permentAddress"></textarea>
                    </mat-form-field>
                </div>
            </div>
            <div class="row gx-2 align-items-end">
                <div class="col-sm-12">
                    <h6 class="section-head">Highest Educational Qualification</h6>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Educational Qualification</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="educationalQualificationId">
                            <mat-option>
                                S. S. C.
                            </mat-option>
                            <mat-option>
                                H. S. C.
                            </mat-option>
                            <mat-option>
                                Diploma
                            </mat-option>
                            <mat-option>
                                Graduate
                            </mat-option>
                            <mat-option>
                                Post-Graduate
                            </mat-option>
                            <mat-option>
                                Doctorate
                            </mat-option>
                            <mat-option>
                                Post-Doctorate
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Stream</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="streamId">
                            <mat-option>
                                Arts
                            </mat-option>
                            <mat-option>
                                Commerce
                            </mat-option>
                            <mat-option>
                                Science
                            </mat-option>
                            <mat-option>
                                Other
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Degree Specilization</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="degreeId">
                            <mat-option>
                                Arts
                            </mat-option>
                            <mat-option>
                                Commerce
                            </mat-option>
                            <mat-option>
                                Science
                            </mat-option>
                            <mat-option>
                                Other
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Board</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="boardId">
                            <mat-option>
                                Pune University
                            </mat-option>
                            <mat-option>
                                Solapur University
                            </mat-option>
                            <mat-option>
                                Kolhapur University
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Degree University</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="degreeUniversityId">
                            <mat-option>
                                Pune University
                            </mat-option>
                            <mat-option>
                                Solapur University
                            </mat-option>
                            <mat-option>
                                Kolhapur University
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Marks/Percentage</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <input matInput placeholder="Marks/Percentage" formControlName="marks">
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Passing Year</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <input matInput placeholder="Passing Year" formControlName="passingYear" maxlength="4">
                    </mat-form-field>
                </div>
            </div>
            <div class="row gx-2 form-container align-items-end">
                <div class="col-sm-12">
                    <h6 class="section-head">Professional Qualification</h6>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.district' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="districtIdPQ"
                        (selectionChange)="getTaluka();">
                        <mat-option *ngFor="let district of districtArray"
                        [value]="district.id">{{webStorage.languageFlag =='mr-IN' ? district.m_District:
                        district.district}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.taluka' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="talukaIdPQ"
                        (selectionChange)="getCenter();">
                            <mat-option *ngFor="let taluka of talukaArrayPQ" [value]="taluka.id">{{webStorage.languageFlag
                                =='mr-IN' ? taluka.m_Taluka: taluka.taluka}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.kendra' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="kendraId" (selectionChange)="getVillage();">
                            <mat-option *ngFor="let center of centerArray" [value]="center.id">{{webStorage.languageFlag
                                =='mr-IN' ? center.m_Center: center.center}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Village</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="villageIdPQ">
                            <mat-option *ngFor="let village of villageArray" [value]="village.id">{{webStorage.languageFlag
                                =='mr-IN' ? village.m_Village: village.village}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">UDISE Code</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <input matInput placeholder="UDISE Code" formControlName="udiseCode">
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Working School Name</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="schoolId">
                            <mat-option>
                                Anjangaon
                            </mat-option>
                            <mat-option>
                                Loni
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Select Role</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="roleId">
                            <mat-option>
                                Headmaster
                            </mat-option>
                            <mat-option>
                                Teacher
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4 mb-4">
                    <div class="d-flex align-items-center gap-2">
                        <mat-checkbox class="example-margin" formControlName="isKendraHead">Is Cluster Head?</mat-checkbox>
                    </div>
                </div>
                <div class="col-sm-4" *ngIf="f['isKendraHead'].value == true">
                    <label class="form-label">Select Cluster</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <!-- <mat-label>Toppings</mat-label> -->
                        <mat-select formControlName="clusterId" multiple>
                            <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4 mb-4">
                    <mat-checkbox class="example-margin" formControlName="isClassTeacher">Is Class Teacher?</mat-checkbox>
                </div>
                <div class="col-sm-4" *ngIf="f['isClassTeacher'].value == true">
                    <label class="form-label">Class</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="classId">
                            <mat-option> 1st</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4" *ngIf="f['isClassTeacher'].value == true">
                    <label class="form-label">Division</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="divisionId">
                            <mat-option> 1st</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">Assigned Classes</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="assignedClass">
                            <mat-option> <mat-checkbox class="example-margin">1st</mat-checkbox></mat-option>
                            <mat-option> <mat-checkbox class="example-margin">2nd</mat-checkbox></mat-option>
                            <mat-option> <mat-checkbox class="example-margin">3rd</mat-checkbox></mat-option>
                            <mat-option> <mat-checkbox class="example-margin">4th</mat-checkbox></mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions class="modal-footer">
        <div class="d-flex align-items-center justify-content-end w-100 gap-2">
            <button mat-dialog-close mat-flat-button class="btn-main-light" type="button">Cancel</button>
            <button mat-flat-button class="btn-main" type="submit">Submit</button>
        </div>
    </mat-dialog-actions>
</form>
