<form [formGroup]="teacherRegForm">
    <div mat-dialog-title class="modal-header">
        <div class="d-flex justify-content-between align-items-center w-100">
            <h6 class="text-main mb-0 fw-bold">{{data ?('Lables.updateSchool' | translate)
                :('Lables.TeacherRegistration' | translate)}}</h6>
            <button mat-icon-button class="btn-modal-close" [mat-dialog-close]="true">
                <mat-icon class="material-symbols-rounded">close</mat-icon>
            </button>
        </div>
    </div>
    <mat-dialog-content class="modal-body scrollbar form-container">
        <div class="row gx-2 align-items-end">
            <div class="col-sm-12">
                <h6 class="section-head">{{'Lables.Details' | translate}}</h6>
            </div>
            <div class="col-sm-4">
                <label class="form-label">{{'Lables.Teacher' | translate}}</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="name" (keypress)="validation.noFirstSpaceAllow($event)">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">{{'Lables.Teacher(Marathi)' | translate}}</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="m_Name" (keypress)="validation.noFirstSpaceAllow($event)">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">{{'Lables.TeacherID' | translate}}</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="teacherCode" (keypress)="validation.noFirstSpaceAllow($event)">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">{{'Lables.Gender' | translate}}</label>
                <mat-form-field appearance="outline" class="w-100">
                    <mat-select formControlName="genderId">
                        <mat-option *ngFor="let gender of genderArray"
                                [value]="gender.id">{{webStorage.languageFlag =='mr-IN' ? gender.m_Gender:
                                gender.gender}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">{{'Lables.MobileNo' | translate}}</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="mobileNo">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">{{'Lables.EmailID' | translate}}</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput formControlName="emailId">
                </mat-form-field>
            </div>
            <div class="col-sm-4">
                <label class="form-label">{{'Lables.BirthDate' | translate}}</label>
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput [matDatepicker]="picker" (click)="picker.open()"
                        readonly (dateChange)="CalculateAge()" formControlName="dob">
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-sm-4" *ngIf="teacherRegForm.value.dob && age > 0">
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <input matInput value="{{age}} Years">
                    </mat-form-field>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="file-upload border rounded-2 p-1 margin-control">
                    <button type="button" mat-flat-button class="btn" id="fileupload-button" data-toggle="tooltip"
                        data-placement="right" (click)="uploadImage.click()" [disabled]="uploadImageFlag">
                        {{'Lables.UploadPhoto' | translate}}
                    </button>
                    <input formControlName="profilePhoto" type="file" accept=".jpg,.jpeg,.jfif,.png,.hvec" id="real-file"
                        hidden="hidden" #uploadImage (change)="imgUpload($event)" />
                    <div class="d-flex gap-2">
                        <button type="button" mat-flat-button class="bg-primary-subtle text-primary btn-icon btn-action"
                            matTooltip="{{'Lables.view' | translate}}" *ngIf="uploadImg" (click)="viewImg()">
                            <mat-icon class="material-symbols-rounded">
                                preview
                            </mat-icon>
                        </button>
                        <button type="button" mat-flat-button class="bg-danger-subtle text-danger btn-icon btn-action"
                            matTooltip="{{'Lables.delete' | translate}}" *ngIf="uploadImg" (click)="clearImg()">
                            <mat-icon class="material-symbols-rounded">
                                delete
                            </mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12 mb-4">
            <div class="row gx-2 align-items-end">
                <div class="col-sm-12">
                    <h6 class="section-head">{{'Lables.AddressDetails' | translate}}</h6>
                </div>
                <div class="row">
                    <div class="col-sm-6 ">
                            <label class="form-label">{{'Lables.CurrentAddress' | translate}}</label>
                            <mat-form-field appearance="outline" class="w-100">
                                <textarea matInput rows="3" maxlength="100" formControlName="currentAddress"
                                    (keypress)="validation.noFirstSpaceAllow($event)"
                                    (input)="clearAddressCheckBox($event)"></textarea>
                            </mat-form-field>
                        </div>
                    <div class="col-sm-6">
                            <label class="form-label w-100">
                                <div class="d-flex justify-content-between w-100 align-items-center">
                                    <span>{{'Lables.PermanentAddress' | translate}}</span>
                                    <mat-checkbox class="example-margin" [disabled]="!f['currentAddress'].value"
                                        (change)="setSameAddress($event)">{{'Lables.SameAsCurrentAdd' |
                                        translate}}</mat-checkbox>
                                </div>
                            </label>
                            <mat-form-field appearance="outline" class="w-100">
                                <textarea matInput rows="3" formControlName="permanentAddress"></textarea>
                            </mat-form-field>
                        </div>
                </div>
            </div>
            <div formGroupName="education">
                <div class="row gx-2 align-items-end">
                    <div class="col-sm-12">
                        <h6 class="section-head">{{'Lables.HighestEducation' | translate}}</h6>
                    </div>
                    <div class="col-sm-4">
                        <label class="form-label">{{'Lables.EducationalQualification' | translate}}</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-select formControlName="educationQualificationId">
                                <mat-option *ngFor="let qualification of qualificationArray"
                                    [value]="qualification.id">{{webStorage.languageFlag =='mr-IN' ? qualification.m_EducationalQualification:
                                    qualification.educationalQualification}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-4">
                        <label class="form-label">{{'Lables.Stream' | translate}}</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-select formControlName="streamId">
                                <mat-option *ngFor="let stream of streamArray"
                                    [value]="stream.id">{{webStorage.languageFlag =='mr-IN' ? stream.m_Stream:
                                    stream.stream}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-4">
                        <label class="form-label">{{'Lables.DegreeSpecilization' | translate}}</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-select formControlName="degreeSpecializationId">
                                <mat-option *ngFor="let degree of degreeSpeArray"
                                    [value]="degree.id">{{webStorage.languageFlag =='mr-IN' ? degree.m_SubjectName:
                                    degree.subjectName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-4">
                        <label class="form-label">{{'Lables.Board' | translate}}</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-select formControlName="boardId">
                                <mat-option>
                                    Pune University
                                </mat-option>
                                <mat-option>
                                    Solapur University
                                </mat-option>
                                <mat-option>
                                    Kolhapur University
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-4">
                        <label class="form-label">{{'Lables.DegreeUniversity' | translate}}</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-select formControlName="universityId">
                                <mat-option *ngFor="let university of universityArray"
                                    [value]="university.id">{{webStorage.languageFlag =='mr-IN' ? university.m_UniversityName:
                                    university.univesityName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-4">
                        <label class="form-label">{{'Lables.Marks/Percentage' | translate}}</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <input matInput formControlName="percentage">
                        </mat-form-field>
                    </div>
                    <div class="col-sm-4">
                        <label class="form-label">{{'Lables.PassingYear' | translate}}</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <input matInput formControlName="passingYear" maxlength="4">
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="row gx-2 form-container align-items-end">
                <div class="col-sm-12">
                    <h6 class="section-head">{{'Lables.ProfessionalDetails' | translate}}</h6>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.district' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="districtId" (selectionChange)="clearDropdown('district'); getTaluka();">
                            <mat-option *ngFor="let district of districtArray"
                                [value]="district.id">{{webStorage.languageFlag =='mr-IN' ? district.m_District:
                                district.district}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.taluka' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="talukaId" (selectionChange)="clearDropdown('taluka'); getCenter();">
                            <mat-option *ngFor="let taluka of talukaArray"
                                [value]="taluka.id">{{webStorage.languageFlag
                                =='mr-IN' ? taluka.m_Taluka: taluka.taluka}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.kendra' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="centerId" (selectionChange)="clearDropdown('center'); getVillage();">
                            <mat-option *ngFor="let center of centerArray" [value]="center.id">{{webStorage.languageFlag
                                =='mr-IN' ? center.m_Center: center.center}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.village' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="villageId" (selectionChange)="clearDropdown('village'); getSchoolList();">
                            <mat-option *ngFor="let village of villageArray"
                                [value]="village.id">{{webStorage.languageFlag
                                =='mr-IN' ? village.m_Village: village.village}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.UDISECode' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <input matInput >
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.WorkingSchoolName' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="schoolId" (selectionChange)="getSchoolClasses();">
                            <mat-option *ngFor="let school of schoolArray"
                                [value]="school.id">{{webStorage.languageFlag
                                =='mr-IN' ? school.m_SchoolName: school.schoolName}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.SelectRole' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="roleId">
                            <mat-option *ngFor="let role of roleArray"
                                [value]="role.id">{{webStorage.languageFlag =='mr-IN' ? role.m_RoleType:
                                role.roleType}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                  <label class="form-label">{{'Lables.DateOfJoining' | translate}}</label>
                  <mat-form-field appearance="outline" class="w-100">
                      <input matInput [matDatepicker]="topicker" formControlName="joiningDate">
                      <mat-datepicker-toggle matIconSuffix [for]="topicker"></mat-datepicker-toggle>
                      <mat-datepicker #topicker></mat-datepicker>
                  </mat-form-field>
              </div>
                <div class="col-sm-4 marginbtm file-upload border rounded-2 p-1 margin-control">
                    <div class="d-flex align-items-center gap-2">
                        <mat-checkbox class="example-margin" formControlName="isClusterHead">{{'Lables.IsClusterHead' |
                            translate}}</mat-checkbox>
                    </div>
                </div>
                <div class="col-sm-4" *ngIf="f['isClusterHead'].value == true">
                    <label class="form-label">{{'Lables.SelectCluster' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="clusterId" multiple>
                            <mat-option *ngFor="let center of centerArray" [value]="center.id">{{webStorage.languageFlag
                                =='mr-IN' ? center.m_Center: center.center}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4" *ngIf="f['isClusterHead'].value == true">
                    <label class="form-label">{{'Lables.clusterMobileNo' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <input matInput formControlName="kendraMobileNo">
                    </mat-form-field>
                </div>
                <div class="col-sm-4" *ngIf="f['isClusterHead'].value == true">
                    <label class="form-label">{{'Lables.clusterEmailId' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <input matInput formControlName="kendraEmailId">
                    </mat-form-field>
                </div>
                <div class="col-sm-4 marginbtm file-upload border rounded-2 p-1 margin-control">
                    <mat-checkbox class="example-margin" formControlName="isClassTeacher">{{'Lables.IsClassTeacher' |
                        translate}}</mat-checkbox>
                </div>
                <div class="col-sm-4" *ngIf="f['isClassTeacher'].value == true">
                    <label class="form-label">{{'Lables.Class' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="" multiple>
                            <mat-option *ngFor="let class of classArray" [value]="class.id">{{webStorage.languageFlag
                                =='mr-IN' ? class.m_ClassDivision: class.classDivision}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <label class="form-label">{{'Lables.AssignedClasses' | translate}}</label>
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-select formControlName="" multiple>
                            <mat-select formControlName="classId">
                                <mat-option *ngFor="let class of classArray" [value]="class.id">{{webStorage.languageFlag
                                    =='mr-IN' ? class.m_ClassDivision: class.classDivision}}</mat-option>
                            </mat-select>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions class="modal-footer">
        <div class="d-flex align-items-center justify-content-end w-100 gap-2">
            <button mat-dialog-close mat-flat-button class="btn-main-light" type="button">{{'Lables.Cancel' |
                translate}}</button>
            <button mat-flat-button class="btn-main" type="submit">{{'Lables.Submit' | translate}}</button>
        </div>
    </mat-dialog-actions>
</form>
