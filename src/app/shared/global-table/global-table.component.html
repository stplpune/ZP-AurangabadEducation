<table mat-table [dataSource]="tableRecords" class="dashboard-table" matSort>
    <ng-container *ngFor="let columns of displayedColumns; let j=index" matColumnDef="{{columns}}">
        <ng-container *ngIf="columns !='action'">
            <th mat-header-cell *matHeaderCellDef mat-sort-header [class]="'srNo' == columns ? 'srno' : ''"
                [disabled]="'srNo' == columns ? true : false">
                {{ tableHeaders[j] }}
            </th>

            <td mat-cell *matCellDef="let element let i=index">
                <ng-container *ngIf="'srNo' ==columns">{{ ((pageNumber + 1) * 10 + i + 1)-20 }}</ng-container>
                <ng-container
                    *ngIf="'srNo' !=columns && 'accountNo' !=columns && tableInfo?.img != columns && tableInfo?.blink != columns && tableInfo?.badge !=  columns && tableInfo?.checkBox != columns && tableInfo?.status != columns && tableInfo?.date != columns && tableInfo?.trueFalseStatus != columns && tableInfo?.isBlock != columns">
                    {{ element[columns] | dash }}
                </ng-container>

                <ng-container *ngIf="tableInfo?.img == columns"><img class="table-img"
                        src="{{element[columns] ? element[columns] : 'assets/images/user.png'}}"></ng-container>
                <ng-container *ngIf="tableInfo?.blink == columns">{{element[columns]}}</ng-container>
                <ng-container *ngIf="tableInfo?.trueFalseStatus == columns">{{element[columns] }}</ng-container>
                <ng-container *ngIf="tableInfo?.badge == columns">
                    <span *ngIf="tableInfo?.page != 'pageRegister'"
                        [class]="element[columns] == 1 ? 'badge rounded-pill bg-success bg-opacity-25 text-success' : ( tableInfo?.badgeTitle?'':'badge rounded-pill bg-danger bg-opacity-25 text-danger')">
                        {{ element[columns] == 1 ? (tableInfo?.badgeTitle ? tableInfo?.badgeTitle : 'Active') :
                        (tableInfo?.badgeTitle ? '' : 'InActive')}}
                    </span>

                    <span *ngIf="tableInfo?.page == 'pageRegister'"
                        [class]="element[columns] == 'In-Use' ? 'rounded-3 small fw-bold px-2 py-1 bg-success-subtle text-success' : 'rounded-3 small fw-bold px-2 py-1 bg-danger-subtle text-danger'">
                        {{ element[columns] }}
                    </span>
                </ng-container>
                <ng-container *ngIf="tableInfo?.date == columns">
                    {{ (tableInfo?.time ? (element[columns] | date:'dd-MM-yyyy hh:mm a'):(element[columns] |
                    date:'dd-MM-yyyy')) | dash }}</ng-container>
                <ng-container *ngIf="tableInfo?.isBlock == columns">
                    <mat-slide-toggle [checked]="tableInfo.tableData[i]?.isBlock" (change)="action(element, 'Block')">
                    </mat-slide-toggle>
                </ng-container>
            </td>
        </ng-container>
        <ng-container *ngIf="columns =='action'">
            <th mat-header-cell *matHeaderCellDef class="action">
                {{tableHeaders[j] | titlecase}}
            </th>
            <td mat-cell *matCellDef="let element let i=index">
                <div class="d-flex gap-2">
                    <button mat-icon-button *ngIf="tableInfo?.edit" matTooltip="{{'Lables.EditTooltip' | translate}}"
                        (click)="action(element, 'Edit', i)">
                        <mat-icon class="material-symbols-rounded text-warning">
                            edit_square
                        </mat-icon>
                    </button>
                    <button mat-icon-button *ngIf="tableInfo?.view" matTooltip="View"
                        (click)="action(element, 'View', i)">
                        <mat-icon class="material-symbols-rounded text-dark">
                            visibility
                        </mat-icon>
                    </button>
                    <button mat-icon-button *ngIf="tableInfo?.delete" matTooltip="{{'Lables.DeleteTooltip' | translate}}"
                        (click)="action(element, 'Delete')" [ngClass]="{'disabled': element?.isDeleteButtonFlag== 1}">
                        <mat-icon class="material-symbols-rounded text-danger">
                            delete
                        </mat-icon>
                    </button>
                </div>
            </td>
        </ng-container>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; let even = even; columns: displayedColumns; let i=index"
        [ngClass]="{'highlightedRow ':highlightedRow == i, 'stripClass': even}"></tr>
</table>
<mat-paginator *ngIf="tableInfo?.tableSize > 10 && tableInfo?.pagination" showFirstLastButtons [length]="tableSize"
    (page)="action($event, 'Pagination')" [pageSizeOptions]="[10]" aria-label="Select page" class="m-0">
</mat-paginator>

<div *ngIf="tableInfo?.tableData?.length == 0">
    <div class="alert alert-danger text-center py-2 mt-1">
        <span>Data not available</span>
    </div>
</div>
